{"version":3,"sources":["api/book/index.js"],"names":["controller","auth","router","get","isAuthenticated","getAll","getBest","getBySlug","post","hasRole","create","put","update","delete","remove","changeCover","changeEpub","rate","sendLink","download","module","exports"],"mappings":"AAAA;;AAEA;;AACA;;IAAYA,U;;AACZ;;IAAYC,I;;;;AAEZ,IAAIC,SAAS,qBAAb;;AAEAA,OAAOC,GAAP,CAAW,GAAX,EAAgBF,KAAKG,eAAL,EAAhB,EAAwCJ,WAAWK,MAAnD;AACAH,OAAOC,GAAP,CAAW,aAAX,EAA0BF,KAAKG,eAAL,EAA1B,EAAkDJ,WAAWM,OAA7D;AACAJ,OAAOC,GAAP,CAAW,QAAX,EAAqBF,KAAKG,eAAL,EAArB,EAA6CJ,WAAWO,SAAxD;AACAL,OAAOM,IAAP,CAAY,GAAZ,EAAiBP,KAAKQ,OAAL,CAAa,OAAb,CAAjB,EAAwCT,WAAWU,MAAnD;AACAR,OAAOS,GAAP,CAAW,QAAX,EAAqBV,KAAKQ,OAAL,CAAa,OAAb,CAArB,EAA4CT,WAAWY,MAAvD;AACAV,OAAOW,MAAP,CAAc,QAAd,EAAwBZ,KAAKQ,OAAL,CAAa,OAAb,CAAxB,EAA+CT,WAAWc,MAA1D;AACAZ,OAAOS,GAAP,CAAW,cAAX,EAA2BV,KAAKQ,OAAL,CAAa,OAAb,CAA3B,EAAkDT,WAAWe,WAA7D;AACAb,OAAOS,GAAP,CAAW,aAAX,EAA0BV,KAAKQ,OAAL,CAAa,OAAb,CAA1B,EAAiDT,WAAWgB,UAA5D;AACAd,OAAOS,GAAP,CAAW,WAAX,EAAwBV,KAAKG,eAAL,EAAxB,EAAgDJ,WAAWiB,IAA3D;AACAf,OAAOM,IAAP,CAAY,UAAZ,EAAwBP,KAAKG,eAAL,EAAxB,EAAgDJ,WAAWkB,QAA3D;AACAhB,OAAOC,GAAP,CAAW,gBAAX,EAA6BF,KAAKG,eAAL,EAA7B,EAAqDJ,WAAWmB,QAAhE;;AAEAC,OAAOC,OAAP,GAAiBnB,MAAjB","file":"index.js","sourcesContent":["'use strict';\n\nimport {Router} from 'express';\nimport * as controller from './book.controller';\nimport * as auth from '../../auth/auth.service';\n\nvar router = new Router();\n\nrouter.get('/', auth.isAuthenticated(), controller.getAll);\nrouter.get('/best_books', auth.isAuthenticated(), controller.getBest);\nrouter.get('/:slug', auth.isAuthenticated(), controller.getBySlug);\nrouter.post('/', auth.hasRole('admin'), controller.create);\nrouter.put('/:slug', auth.hasRole('admin'), controller.update);\nrouter.delete('/:slug', auth.hasRole('admin'), controller.remove);\nrouter.put('/:slug/cover', auth.hasRole('admin'), controller.changeCover);\nrouter.put('/:slug/epub', auth.hasRole('admin'), controller.changeEpub);\nrouter.put('/:id/rate', auth.isAuthenticated(), controller.rate);\nrouter.post('/:id/buy', auth.isAuthenticated(), controller.sendLink);\nrouter.get('/download/:url', auth.isAuthenticated(), controller.download);\n\nmodule.exports = router;\n"]}